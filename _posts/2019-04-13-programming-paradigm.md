---
layout: post
title:  "[Python] Programing Paradigm and Class"
date:   2019-04-13 09:00:13
categories: 2019-1-systprog
---



## 프로그래밍 패러다임

클래스와 객체지향 프로그래밍을 맛보기 전에 이것이 무엇인지 왜 쓰는지 알기 위해서는 객체지향 외에 다른 프로그래밍 패러다임 또한 알아야 서로의 장단점을 알 수 있다. 프로그래밍 패러다임은 프로그램을 작성하는 철학이나 접근법을 의미하며 대부분의 언어는 멀티 패러다임을 지원하지만 더 적합한 특정 패러다임이 있다. 예를 들어 C언어는 절차적 프로그래밍에, C#과 Java는 객체지향적 프로그래밍에 특화 되어있고, 파이썬은 두 가지를 섞어 쓰는 경우가 많다. 프로그래밍 패러다임은 기준에 따라 다양하게 분류할 수 있는데 여기서는 세 가지만 언급한다.

1. **절차적 프로그래밍 (Procedural Programming)**: 여러분이 늘 하고 있는 '그것'이다. 파이썬 스크립트처럼 위에서 아래로 차례대로 (절차적으로) 실행되는 프로그램이다. 연산을 하는 알고리즘을 프로그래머가 구체적으로 기술해야 한다. 프로그램의 복잡도가 높아지면 함수나 외부 모듈, 패키지들을 만들어 구조화시킬 수 있다. 문법적으로 보면 변수와 함수로 이루어진 프로그램이다. 이러한 프로그래밍은 하드웨어 제어처럼 시간에 따라 직선적인 흐름을 갖는 프로그램에는 적합하다.
2. **객체지향적 프로그래밍 (Object-Oriented Programming)**: 절차적 프로그래밍처럼 순서대로 실행되지만 **객체(instance)**가 중심이 된다. 절차적 프로그래밍은 다수의 이벤트들이 동시 다발적으로 발생할 수 있는 GUI, 웹서버, 게임 등에는 적합하지 않다. 너무 많은 변수와 함수를 만들어야 하고 변수와 함수들이 복잡하게 얽혀 있어서 코드가 길어지고 이해할 수 없게 된다. 객체지향적 프로그래밍은 관련있는 데이터와 메소드(method, 객체지향적 프로그램에서 함수를 지칭하는 단어)를 묶어서 객체를 만든다. 객체 밖에서는 객체 내부 데이터에 접근할 수 없고 오직 그 객체의 메소드를 통해서만 접근하거나 연산이 가능하다. 내부적인 구현의 복잡성은 객체 안으로 숨기고 객체의 사용자는 객체에게 할 일을 명령하기만 하면 된다. 문법적으로는 클래스 (class) 위주로 작성하는 프로그램이다.
3. **함수형 프로그래밍 (Functional Programming)**: 최근 Hot한 패러다임이다. 절차적 프로그래밍의 복잡성을 줄이기 위해 객체지향이 나왔지만 이 또한 프로그램의 규모가 커질수록 너무 많은 객체들이 서로 관련되어 함수 하나, 변수 하나를 수정한 여파가 다수의 객체로 퍼져나가 많은 버그를 유발한다. 함수형 프로그래밍은 말 그대로 *함수*가 다시 중심이 된다. 얼핏 보면  절차적 프로그래밍으로 돌아간 것 같지만 함수형 프로그래밍은 지켜야 할 엄격한 룰들이 있다. 그 중 가장 중요한 원칙은 *함수에는 반드시 입력이 있어야 하며 출력은 반드시 입력에만 의존해야 한다*는 것이다. 객체의 메소드는 대부분 입력과 함께 객체 내부 데이터도 사용하므로 저 원칙을 위반한다. 함수에 필요한 모든 데이터가 입력 인자로 들어와야 하므로 입출력 관계가 보다 명확하게 보인다. 전체 프로그램을 작은 함수들의 조합으로 만들고 변수라는 개념을 없애고 데이터를 상수로만 쓰기 때문에 프로그램의 복잡성을 줄일 수 있다. 하지만 이미 절차적 혹은 객체지향적 프로그래밍을 배운 다음에 이러한 패러다임을 머릿속에 주입한다는 것이 매우 어렵기 때문에 아직은 인기가 없다.

함수형 프로그래밍은 뇌를 포맷하고 새로 배워야 하는 전혀 다른 개념이므로 논외로 하고 여기서는 절차적 프로그래밍과 객체지향적 프로그래밍의 장단점을 알아보고 어떤 경우에 어떤 패러다임을 써야 하는지 (단순하게 말하면 클래스를 써야 할지 말아야 할지) 알아보자.  

참고: 
- 프로그래밍 패러다임과 파이썬: <https://tech.peoplefund.co.kr/2018/11/28/programming-paradigm-and-python-kor.html>
- 프로그래밍 패러다임: <http://melodyonlight.com/?p=374>
- 함수형 프로그래밍이란 무엇인가?: <https://medium.com/@jooyunghan/%ED%95%A8%EC%88%98%ED%98%95-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80-fab4e960d263>


## 클래스 문법

일단 파이썬에서 클래스를 쓰는 방법에 대해 알아보자. 클래스는 `class`라는 키워드로 시작하며 함수와 마찬가지로 들여쓰기로 클래스 정의의 범위를 지정한다. 간단한 예시를 통해 클래스 정의 방법을 알아보자.

```python
class Dog:
    def __init__(self, name):
        self.name = name	# declare member variables
        self.position = 0
    def bark(self):
        print(f"{self.name}: Wal! Wal!")
    def move(self, distance):
        self.position += distance
        print(f"{self.name} is at {self.position}")

puppy = Dog("dangdang")
puppy.bark()	# => dangdang: Wal! Wal!
puppy.move(10)	# => dangdang is at 10
print("current position:", puppy.position)	# => current position: 10
```

#### 생성자 함수 `__init__`

첫 번째 함수은 `__init__`이라는 생성자 함수다. 파이썬은 특정 기능을 특정 이름에 지정해 놓은 경우가 많은데 클래스 안에 `__init__`은 생성자 역할을 하여 객체가 생성될 때 자동으로 실행된다. 입력인자를 받을 수 있으나 출력(return)을 할 순 없다. 주로 멤버 변수를 선언하고 초기화 하는데 사용한다. `__init__`외에 다른 함수에서도 멤버 변수를 추가할 순 있으나 파이썬에서는 가급적  `__init__`에서 모든 멤버 변수를 미리 선언할 것을 권장한다.

#### Self는 무엇?

클래스의 모든 함수에 공통적인 입력인자가 보이는데 `self`라는 변수다. static 함수를 제외하고 모든 클래스 멤버 함수에 첫 번째 인자로 `self`를 넣어야 한다. 이것은 C++ 클래스의 `this`와 비슷하다고 보면 된다. `self`는 객체 자신을 의미하는 것이며 객체의 함수나 변수는 `self`를 통해서만 접근할 수 있다. `move`라는 함수에서 `position` 변수에 접근하기 위해 `self.position`이라고 썼다. 함수 안에서 다른 함수를 부를 때도 `self`를 쓴다. `self`라는 입력인자는 함수를 호출할 때 직접 객체를 입력하는 것이 아니고 호출한 객체가 자동으로 들어간다. 예시 아래 두 줄을 보면 `puppy.bark()`와 `puppy.move(10)`에서 `self`를 제외한 나머지 입력인자만 입력한 것을 볼 수 있다.  

`self`가 들어갈 뿐 함수를 쓰는 방법은 기본 함수를 정의하는 것과 크게 다르지 않다. 클래스를 사용하는 방법은 다른 언어와 비슷하다. 객체를 생성할 때는 `()`를 써야하며 생성자의 입력인자가 있다면 입력 값을 넣어준다. 생성된 객체 뒤에 `.`을 통해 내부 함수를 실행하거나 내부 변수에 접근할 수 있다. 파이썬은 포인터가 없으므로 (사실 모두 포인터이므로) `->`는 쓰지 않는다.



객체 장점예제: 스타에서 다양한 유닛에 대한 변수 함수를 따로 관리하는 것보단 묶어서 관리하는 것이 낫다.